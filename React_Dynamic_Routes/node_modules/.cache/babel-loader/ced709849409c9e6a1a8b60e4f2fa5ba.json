{"ast":null,"code":"var _jsxFileName = \"/home/hadooop/Desktop/development/reactjs_project/React_Dynamic_Routes/React_Dynamic_Routes/src/pages/Signup.js\";\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { withRouter } from \"react-router-dom\";\nimport { yupResolver } from \"@hookform/resolvers\";\nimport * as yup from \"yup\";\nimport Form_Sidebar_BackgroundImage from \"./../assets/background_1.png\";\nimport Login_Compoenent_BackgroundImage from \"./../assets/background_3.jpg\";\nimport Form_BackgroundImage from \"./../assets/background_2.jpg\";\nimport \"./style.css\";\nimport axios from \"axios\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n/* Validation starts here */\n\nvar schema = yup.object().shape({\n  first_name: yup.string(\"First Name must be string\").required(\"First Name is required\").min(5, \"First Name must be atleast 5 charachters \").max(14, \"First Name must be atmost 14 chrachters \"),\n  last_name: yup.string(\"Last Name must be string \").required(\"Last Name is required\").min(5, \"Last Name must be atleast 5 charachters \").max(14, \"Last Name must be atmost 14 chrachters \"),\n  email: yup.string().required(\"Last Name is required\").email(\"Invalid email\").test(\"Unique Email\", \"Email already in use\", function (value) {\n    return new Promise(function (resolve, reject) {\n      axios.post(\"http://localhost:3001/api/users/verify/email\", {\n        email: value\n      }).then(function (res) {\n        if (res.data.msg === \"Email already been taken\") {\n          toast.success(res.data.msg);\n          resolve(false);\n        }\n\n        resolve(true);\n      });\n    });\n  }),\n  password: yup.string(\"Password must be string \").required(function (value) {\n    toast.error(\"Password is required\");\n  }).min(8, \"Password must be atleast 8 charachters \").max(14, \"Password must be atmost 14 chrachters \"),\n  c_password: yup.string().required(\"Password confirm is required\").oneOf([yup.ref(\"password\"), null], \"Passwords don't match\"),\n  username: yup.string(\"Username must be string \").required(\"Username is required\").min(5, \"Username must be atleast 5 charachters \").max(14, \"Username must be atmost 14 chrachters \").test(\"Unique username\", \"Username already in taken\", function (value) {\n    return new Promise(function (resolve, reject) {\n      axios.post(\"http://localhost:3001/api/users/verify/username\", {\n        username: value\n      }).then(function (res) {\n        if (res.data.msg === \"Username already been taken\") {\n          toast.success(res.data.msg);\n          resolve(false);\n        }\n\n        resolve(true);\n      });\n    });\n  })\n});\n/* Validation ends here */\n\n/* Functional componennet starts here */\n\nexport default function Signup(props) {\n  var _errors$first_name, _errors$last_name, _errors$email, _errors$username, _errors$password, _errors$c_password;\n\n  var _useForm = useForm({\n    resolver: yupResolver(schema)\n  }),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors;\n\n  var routeChange = function routeChange() {\n    var path = \"/login\";\n    props.history.push(path);\n  };\n\n  var addUser = function addUser(data, e) {\n    var first_name = data.first_name;\n    var last_name = data.last_name;\n    var email = data.email;\n    var username = data.username;\n    var password = data.password;\n    fetch(\"http://localhost:3001/api/users/register\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        first_name: first_name,\n        last_name: last_name,\n        email: email,\n        username: username,\n        password: password\n      })\n    }).then(function (res) {\n      console.log(res);\n\n      if (res.status === 200) {\n        console.log(\"success\");\n        e.target.reset();\n        routeChange();\n      } else {\n        console.log(\"failed\");\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var submit = function submit(data, e) {\n    console.log(data);\n    addUser(data, e);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row signup-component-wrapper\",\n    style: {\n      backgroundImage: \"url(\" + Login_Compoenent_BackgroundImage + \")\",\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      backgroundRepeat: \"no-repeat\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 signup-form-wrapper  \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(submit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center w-100 d-flex flex-row justify-content-around align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \" font-weight-bold text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, \"Sign Up ! Free MemberShip\", \" \"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-info btn-sm  \",\n    onClick: routeChange,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body pl-5 pr-5 pt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6  \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 d-flex flex-column justify-content-center align-items-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"first_name\",\n    className: \"form-control custom-signup-firstName-input \",\n    ref: register,\n    placeholder: \"first name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left   error-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, errors.first_name && /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-white font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }, (_errors$first_name = errors.first_name) === null || _errors$first_name === void 0 ? void 0 : _errors$first_name.message)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 d-flex flex-column justify-content-center align-items-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"last_name\",\n    className: \"form-control custom-signup-lastName-input  \",\n    ref: register,\n    placeholder: \"last name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left   error-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 21\n    }\n  }, errors.last_name && /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-white font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  }, (_errors$last_name = errors.last_name) === null || _errors$last_name === void 0 ? void 0 : _errors$last_name.message))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center align-items-center flex-column w-100 ml-auto mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    className: \"form-control custom-signup-input \",\n    ref: register,\n    placeholder: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left   error-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, errors.email && /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-white font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  }, (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center align-items-center flex-column w-100 ml-auto mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    className: \"form-control custom-signup-input \",\n    ref: register,\n    placeholder: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left   error-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, errors.username && /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-white font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 21\n    }\n  }, (_errors$username = errors.username) === null || _errors$username === void 0 ? void 0 : _errors$username.message))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center align-items-center flex-column w-100 ml-auto mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    className: \"form-control custom-signup-input \",\n    ref: register,\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left   error-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 17\n    }\n  }, errors.password && /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-white font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 21\n    }\n  }, (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center align-items-center flex-column w-100 ml-auto mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"c_password\",\n    className: \"form-control custom-signup-input \",\n    ref: register,\n    placeholder: \"confirm password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left   error-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }, errors.c_password && /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-white font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 21\n    }\n  }, (_errors$c_password = errors.c_password) === null || _errors$c_password === void 0 ? void 0 : _errors$c_password.message))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"  flex-column justify-content-center  align-items-center mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \" \",\n    name: \"agree\",\n    id: \"agree\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-white font-weight-bold ml-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  }, \" \", \"i agree to terms and conditions\", \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-sm btn-success mt-3\",\n    name: \"submit\",\n    id: \"signupBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-user-plus fa-2x\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 19\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-white font-weight-bold ml-2\",\n    style: {\n      fontSize: \"18px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 19\n    }\n  }, \"Sign Up\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/hadooop/Desktop/development/reactjs_project/React_Dynamic_Routes/React_Dynamic_Routes/src/pages/Signup.js"],"names":["React","useForm","withRouter","yupResolver","yup","Form_Sidebar_BackgroundImage","Login_Compoenent_BackgroundImage","Form_BackgroundImage","axios","ToastContainer","toast","schema","object","shape","first_name","string","required","min","max","last_name","email","test","value","Promise","resolve","reject","post","then","res","data","msg","success","password","error","c_password","oneOf","ref","username","Signup","props","resolver","register","handleSubmit","errors","routeChange","path","history","push","addUser","e","fetch","method","headers","body","JSON","stringify","console","log","status","target","reset","catch","err","submit","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","message","fontSize"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { withRouter } from \"react-router-dom\";\nimport { yupResolver } from \"@hookform/resolvers\";\nimport * as yup from \"yup\";\nimport Form_Sidebar_BackgroundImage from \"./../assets/background_1.png\";\nimport Login_Compoenent_BackgroundImage from \"./../assets/background_3.jpg\";\nimport Form_BackgroundImage from \"./../assets/background_2.jpg\";\nimport \"./style.css\";\nimport axios from \"axios\";\nimport { ToastContainer, toast } from 'react-toastify';\n import 'react-toastify/dist/ReactToastify.css';\n/* Validation starts here */\nconst schema = yup.object().shape({\n  first_name: yup\n    .string(\"First Name must be string\")\n    .required(\"First Name is required\")\n    .min(5, \"First Name must be atleast 5 charachters \")\n    .max(14, \"First Name must be atmost 14 chrachters \"),\n\n  last_name: yup\n    .string(\"Last Name must be string \")\n    .required(\"Last Name is required\")\n    .min(5, \"Last Name must be atleast 5 charachters \")\n    .max(14, \"Last Name must be atmost 14 chrachters \"),\n\n  email: yup\n    .string()\n    .required(\"Last Name is required\")\n    .email(\"Invalid email\")\n    .test(\"Unique Email\", \"Email already in use\", function (value) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post(\"http://localhost:3001/api/users/verify/email\", {\n            email: value,\n          })\n          .then((res) => {\n            if (res.data.msg === \"Email already been taken\") {\n               toast.success(res.data.msg);\n              resolve(false);\n            }\n            resolve(true);\n          });\n      });\n    }),\n\n  password: yup\n    .string(\"Password must be string \")\n    .required(function(value){\n        toast.error(\"Password is required\");\n    })\n    .min(8, \"Password must be atleast 8 charachters \")\n    .max(14, \"Password must be atmost 14 chrachters \"),\n    \n  c_password: yup\n    .string()\n    .required(\"Password confirm is required\")\n    .oneOf([yup.ref(\"password\"), null], \"Passwords don't match\"),\n\n  username: yup\n    .string(\"Username must be string \")\n    .required(\"Username is required\")\n    .min(5, \"Username must be atleast 5 charachters \")\n    .max(14, \"Username must be atmost 14 chrachters \")\n    .test(\"Unique username\", \"Username already in taken\", function (value) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post(\"http://localhost:3001/api/users/verify/username\", {\n            username: value,\n          })\n          .then((res) => {\n            if (res.data.msg === \"Username already been taken\") {\n                toast.success(res.data.msg);\n              resolve(false);\n            }\n            resolve(true);\n          });\n      });\n    }),\n});\n/* Validation ends here */\n/* Functional componennet starts here */\n\nexport default function Signup(props) {\n  const { register, handleSubmit, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const routeChange = () => {\n    let path = `/login`;\n    props.history.push(path);\n  };\n  const addUser = (data, e) => {\n    let first_name = data.first_name;\n    let last_name = data.last_name;\n    let email = data.email;\n    let username = data.username;\n    let password = data.password;\n\n    fetch(\"http://localhost:3001/api/users/register\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        first_name: first_name,\n        last_name: last_name,\n        email: email,\n        username: username,\n        password: password,\n      }),\n    })\n      .then(function (res) {\n        console.log(res);\n        if (res.status === 200) {\n          console.log(\"success\");\n          e.target.reset();\n          routeChange();\n        } else {\n          console.log(\"failed\");\n        }\n      })\n      .catch(function (err) {\n        console.log(err);\n      });\n  };\n\n  const submit = (data, e) => {\n    console.log(data);\n    addUser(data, e);\n  };\n  return (\n    <div\n      className=\"row signup-component-wrapper\"\n      style={{\n        backgroundImage: \"url(\" + Login_Compoenent_BackgroundImage + \")\",\n        backgroundPosition: \"center\",\n        backgroundSize: \"cover\",\n        backgroundRepeat: \"no-repeat\",\n      }}\n    >\n      <ToastContainer />\n      <div className=\"col-md-3\"></div>\n      <div className=\"col-md-6 signup-form-wrapper  \">\n        <form onSubmit={handleSubmit(submit)}>\n          <div className=\"\">\n            <div className=\"text-center w-100 d-flex flex-row justify-content-around align-items-center\">\n              <h4 className=\" font-weight-bold text-white\">\n                Sign Up ! Free MemberShip{\" \"}\n              </h4>\n              <button\n                className=\"btn btn-info btn-sm  \"\n                onClick={routeChange}\n                type=\"button\"\n              >\n                Login\n              </button>\n            </div>\n\n            <div className=\"card-body pl-5 pr-5 pt-5\">\n              {/* first name  and last name  */}\n              <div className=\"row\">\n                <div className=\"col-md-6  \">\n                  <div className=\"w-100 d-flex flex-column justify-content-center align-items-center \">\n                    <input\n                      type=\"text\"\n                      name=\"first_name\"\n                      className=\"form-control custom-signup-firstName-input \"\n                      ref={register}\n                      placeholder=\"first name\"\n                    />\n                    <div className=\"text-left   error-container\">\n                      {errors.first_name && (\n                        <small className=\"text-white font-weight-bold\">\n                          {errors.first_name?.message}\n                        </small>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"col-md-6 \">\n                  <div className=\"w-100 d-flex flex-column justify-content-center align-items-center \">\n                    <input\n                      type=\"text\"\n                      name=\"last_name\"\n                      className=\"form-control custom-signup-lastName-input  \"\n                      ref={register}\n                      placeholder=\"last name\"\n                    />\n                    <div className=\"text-left   error-container\">\n                      {errors.last_name && (\n                        <small className=\"text-white font-weight-bold\">\n                          {errors.last_name?.message}\n                        </small>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"d-flex justify-content-center align-items-center flex-column w-100 ml-auto mx-auto\">\n                <input\n                  type=\"text\"\n                  name=\"email\"\n                  className=\"form-control custom-signup-input \"\n                  ref={register}\n                  placeholder=\"email\"\n                />\n                <div className=\"text-left   error-container\">\n                  {errors.email && (\n                    <small className=\"text-white font-weight-bold\">\n                      {errors.email?.message}\n                    </small>\n                  )}\n                </div>\n              </div>\n              <div className=\"d-flex justify-content-center align-items-center flex-column w-100 ml-auto mx-auto\">\n                <input\n                  type=\"text\"\n                  name=\"username\"\n                  className=\"form-control custom-signup-input \"\n                  ref={register}\n                  placeholder=\"username\"\n                />\n                <div className=\"text-left   error-container\">\n                  {errors.username && (\n                    <small className=\"text-white font-weight-bold\">\n                      {errors.username?.message}\n                    </small>\n                  )}\n                </div>\n              </div>\n              <div className=\"d-flex justify-content-center align-items-center flex-column w-100 ml-auto mx-auto\">\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  className=\"form-control custom-signup-input \"\n                  ref={register}\n                  placeholder=\"password\"\n                />\n                <div className=\"text-left   error-container\">\n                  {errors.password && (\n                    <small className=\"text-white font-weight-bold\">\n                      {errors.password?.message}\n                    </small>\n                  )}\n                </div>\n              </div>\n              <div className=\"d-flex justify-content-center align-items-center flex-column w-100 ml-auto mx-auto\">\n                <input\n                  type=\"password\"\n                  name=\"c_password\"\n                  className=\"form-control custom-signup-input \"\n                  ref={register}\n                  placeholder=\"confirm password\"\n                />\n                <div className=\"text-left   error-container\">\n                  {errors.c_password && (\n                    <small className=\"text-white font-weight-bold\">\n                      {errors.c_password?.message}\n                    </small>\n                  )}\n                </div>\n              </div>\n              <div className=\"  flex-column justify-content-center  align-items-center mt-2\">\n                <input type=\"checkbox\" className=\" \" name=\"agree\" id=\"agree\" />\n                <small className=\"text-white font-weight-bold ml-3\">\n                  {\" \"}\n                  i agree to terms and conditions{\" \"}\n                </small>\n              </div>\n              <div className=\"w-100 text-center\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-sm btn-success mt-3\"\n                  name=\"submit\"\n                  id=\"signupBtn\"\n                >\n                  <i className=\"fa fa-user-plus fa-2x\" aria-hidden=\"true\"></i>{\" \"}\n                  <span\n                    className=\"text-white font-weight-bold ml-2\"\n                    style={{ fontSize: \"18px\" }}\n                  >\n                    Sign Up\n                  </span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div className=\"col-md-3\"></div>\n      \n    </div>\n    \n  );\n}\n"]},"metadata":{},"sourceType":"module"}