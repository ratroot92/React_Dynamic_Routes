{"ast":null,"code":"var _jsxFileName = \"/home/asd/Desktop/development/REACTJS/test/React_Dynamic_Routes/src/pages/Activate.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport jwt from \"jsonwebtoken\";\nimport { authenticate, isAuth } from \"./../helpers/auth\";\nimport { Redirect } from \"react-router-dom\";\n\nconst Activate = ({\n  match\n}) => {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    token: \"\",\n    show: true\n  });\n  useEffect(() => {\n    let token = match.params.token;\n    let {\n      username\n    } = jwt.decode(token);\n\n    if (token) {\n      setFormData({ ...formData,\n        name,\n        token\n      });\n    }\n\n    console.log(token, username);\n  }, [match.params]);\n  const {\n    name,\n    token,\n    show\n  } = formData;\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios //   .post(`${process.env.REACT_APP_API_URL}/`, {\n    .post(\"http://localhost:3001/api/users/activate\", {\n      token\n    }).then(res => {\n      setFormData({ ...formData,\n        show: false\n      });\n      toast.success(res.data.message); //   localStorage.setItem(\"Logged_User\",JSON.stringify(res.data.newUser))\n      //   console.log(localStorage.getItem(\"Logged_User\"))\n      //   console.log(\"User saved to local storage \")\n    }).catch(err => {\n      toast.error(err.response.data.errors);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"min-h-screen bg-gray-100 text-gray-900 flex justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, isAuth() ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 19\n    }\n  }) : null, /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-screen-xl m-0 sm:m-20 bg-white shadow sm:rounded-lg flex justify-center flex-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lg:w-1/2 xl:w-5/12 p-6 sm:p-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-12 flex flex-col items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-2xl xl:text-3xl font-extrabold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"Welcome \", name), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"w-full flex-1 mt-8 text-indigo-500\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mx-auto max-w-xs relative \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"mt-5 tracking-wide font-semibold bg-indigo-500 text-gray-100 w-full py-4 rounded-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user-plus fa 1x w-6  -ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, \"Activate your Account\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-12 border-b text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"leading-none px-2 inline-block text-sm text-gray-600 tracking-wide font-medium bg-white transform translate-y-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, \"Or sign up again\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"w-full max-w-xs font-bold shadow-sm rounded-lg py-3 bg-indigo-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline mt-5\",\n    href: \"/register\",\n    target: \"_self\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-sign-in-alt fa 1x w-6  -ml-2 text-indigo-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, \"Sign Up\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-1 bg-indigo-100 text-center hidden lg:flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-12 xl:m-16 w-full bg-contain bg-center bg-no-repeat\",\n    style: {\n      backgroundImage: `url()`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }))), \";\");\n};\n\nexport default Activate;","map":{"version":3,"sources":["/home/asd/Desktop/development/REACTJS/test/React_Dynamic_Routes/src/pages/Activate.jsx"],"names":["React","useState","useEffect","ToastContainer","toast","axios","jwt","authenticate","isAuth","Redirect","Activate","match","formData","setFormData","name","token","show","params","username","decode","console","log","handleSubmit","e","preventDefault","post","then","res","success","data","message","catch","err","error","response","errors","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport jwt from \"jsonwebtoken\";\nimport { authenticate, isAuth } from \"./../helpers/auth\";\nimport { Redirect } from \"react-router-dom\";\n\nconst Activate = ({ match }) => {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    token: \"\",\n    show: true,\n  });\n\n  useEffect(() => {\n    let token = match.params.token;\n    let { username } = jwt.decode(token);\n\n    if (token) {\n      setFormData({ ...formData, name, token });\n    }\n\n    console.log(token, username);\n  }, [match.params]);\n  const { name, token, show } = formData;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    axios\n      //   .post(`${process.env.REACT_APP_API_URL}/`, {\n      .post(\"http://localhost:3001/api/users/activate\", {\n        token,\n      })\n      .then((res) => {\n        setFormData({\n          ...formData,\n          show: false,\n        });\n\n        toast.success(res.data.message);\n \n        //   localStorage.setItem(\"Logged_User\",JSON.stringify(res.data.newUser))\n        //   console.log(localStorage.getItem(\"Logged_User\"))\n        //   console.log(\"User saved to local storage \")\n      })\n      .catch((err) => {\n        toast.error(err.response.data.errors);\n      });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 text-gray-900 flex justify-center\">\n      {isAuth() ? <Redirect to=\"/\" /> : null}\n      <ToastContainer />\n      <div className=\"max-w-screen-xl m-0 sm:m-20 bg-white shadow sm:rounded-lg flex justify-center flex-1\">\n        <div className=\"lg:w-1/2 xl:w-5/12 p-6 sm:p-12\">\n          <div className=\"mt-12 flex flex-col items-center\">\n            <h1 className=\"text-2xl xl:text-3xl font-extrabold\">\n              Welcome {name}\n            </h1>\n\n            <form\n              className=\"w-full flex-1 mt-8 text-indigo-500\"\n              onSubmit={handleSubmit}\n            >\n              <div className=\"mx-auto max-w-xs relative \">\n                <button\n                  type=\"submit\"\n                  className=\"mt-5 tracking-wide font-semibold bg-indigo-500 text-gray-100 w-full py-4 rounded-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none\"\n                >\n                  <i className=\"fas fa-user-plus fa 1x w-6  -ml-2\" />\n                  <span className=\"ml-3\">Activate your Account</span>\n                </button>\n              </div>\n              <div className=\"my-12 border-b text-center\">\n                <div className=\"leading-none px-2 inline-block text-sm text-gray-600 tracking-wide font-medium bg-white transform translate-y-1/2\">\n                  Or sign up again\n                </div>\n              </div>\n              <div className=\"flex flex-col items-center\">\n                <a\n                  className=\"w-full max-w-xs font-bold shadow-sm rounded-lg py-3\n           bg-indigo-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline mt-5\"\n                  href=\"/register\"\n                  target=\"_self\"\n                >\n                  <i className=\"fas fa-sign-in-alt fa 1x w-6  -ml-2 text-indigo-500\" />\n                  <span className=\"ml-4\">Sign Up</span>\n                </a>\n              </div>\n            </form>\n          </div>\n        </div>\n        <div className=\"flex-1 bg-indigo-100 text-center hidden lg:flex\">\n          <div\n            className=\"m-12 xl:m-16 w-full bg-contain bg-center bg-no-repeat\"\n            style={{ backgroundImage: `url()` }}\n          ></div>\n        </div>\n      </div>\n      ;\n    </div>\n  );\n};\n\nexport default Activate;\n"]},"metadata":{},"sourceType":"module"}