{"ast":null,"code":"var _jsxFileName = \"/home/hadooop/Desktop/development/reactjs_project/React_Dynamic_Routes/React_Dynamic_Routes/src/pages/login/LoginForm.jsx\";\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { withRouter } from \"react-router-dom\";\nimport { yupResolver } from \"@hookform/resolvers\";\nimport * as yup from \"yup\";\nimport Form_Sidebar_BackgroundImage from \"./../../assets/background_1.png\";\nimport Login_Compoenent_BackgroundImage from \"./../../assets/background_3.jpg\";\nimport Form_BackgroundImage from \"./../../assets/background_2.jpg\";\nimport ClockContainer from \"./../../components/clock/ClockContainer\";\nimport \"./../style.css\";\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n/* Validation starts here */\n\nvar schema = yup.object().shape({\n  password: yup.string(\"Password must be string \").required(function (value) {\n    toast.warning(\"Password is required\");\n  }),\n  username: yup.string(\"Username must be string \").required(function (value) {\n    toast.warning(\"Username is required \");\n  }).test(\"Unique username\", \"Username already in taken\", function (value) {\n    return new Promise(function (resolve, reject) {\n      axios.post(\"http://localhost:3001/api/users/verify/username\", {\n        username: value\n      }).then(function (res) {\n        if (res.data.msg === \"Username already been taken\") {\n          //  toast.error(res.data.msg);\n          resolve(true);\n        }\n\n        toast.error(\"Username does not exist\");\n        resolve(false);\n      });\n    });\n  })\n});\n/* Validation ends here */\n\n/* Functional componennet starts here */\n\nexport default function LoginForm(props) {\n  var _this = this;\n\n  var _useForm = useForm({\n    resolver: yupResolver(schema)\n  }),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors;\n\n  var routeChange = function routeChange() {\n    var path = \"/login\";\n\n    _this.props.history.push(path);\n  };\n\n  var submit = function submit(data, e) {\n    console.log(data);\n    var _this$data = _this.data,\n        username = _this$data.username,\n        password = _this$data.password;\n    axios.post(\"http://localhost:3001/api/users/login\", {\n      username,\n      password\n    }).then(function (res) {\n      console.log(res);\n      console.log(res.data);\n\n      if (res.status === 200) {\n        //save user to localstorage\n        localStorage.setItem(\"logged_user\", JSON.stringify(res.data));\n        toast.success(\"Login Successfull\"); // let path = `/`;\n        // this.props.history.push(path);\n      } else {\n        console.log(\"request error\");\n      }\n    }).catch(function (err) {\n      toast.error(err.response.data.message);\n      console.log(err.response.data);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row align-items-center login-component-wrapper\",\n    style: {\n      backgroundImage: \"url(\" + Login_Compoenent_BackgroundImage + \")\",\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      backgroundRepeat: \"no-repeat\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 sidebar-wrapper \",\n    style: {\n      backgroundImage: \"url(\" + Form_Sidebar_BackgroundImage + \")\",\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      backgroundRepeat: \"no-repeat\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    className: \"font-weight-bold text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, \"Not already Registered\"), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"font-weight-bold text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, \"Create a free account now\", \" \"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    id: \"signupBtn\",\n    className: \"btn btn-warning btn-block \",\n    onClick: routeChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-user-plus fa-2x text-white\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 bg-dark form-wrapper\",\n    style: {\n      backgroundImage: \"url(\" + Form_BackgroundImage + \")\",\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      backgroundRepeat: \"no-repeat\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row bg-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ClockContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"font-weight-bold text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, \"Login Now \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-row justify-content-center align-items-center mt-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-2 mr-2 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \" fa-2x text-primary fa fa-facebook-official\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-2 mr-2 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \" fa-2x text-success fa fa-google-plus-official\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-2 mr-2 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \" fa-2x text-info fa fa-twitter-square\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(submit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row form-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    id: \"username\",\n    placeholder: \"user name\",\n    className: \"form-control custom-login-input\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row form-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    placeholder: \"password\",\n    ref: register,\n    className: \"form-control custom-login-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-white font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 19\n    }\n  }, \"Click here to login\", \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    name: \"submit\",\n    className: \"btn btn-success\",\n    id: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-sign-in fa-2x\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  }))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/hadooop/Desktop/development/reactjs_project/React_Dynamic_Routes/React_Dynamic_Routes/src/pages/login/LoginForm.jsx"],"names":["React","useForm","withRouter","yupResolver","yup","Form_Sidebar_BackgroundImage","Login_Compoenent_BackgroundImage","Form_BackgroundImage","ClockContainer","axios","ToastContainer","toast","schema","object","shape","password","string","required","value","warning","username","test","Promise","resolve","reject","post","then","res","data","msg","error","LoginForm","props","resolver","register","handleSubmit","errors","routeChange","path","history","push","submit","e","console","log","status","localStorage","setItem","JSON","stringify","success","catch","err","response","message","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { withRouter } from \"react-router-dom\";\nimport { yupResolver } from \"@hookform/resolvers\";\nimport * as yup from \"yup\";\nimport Form_Sidebar_BackgroundImage from \"./../../assets/background_1.png\";\nimport Login_Compoenent_BackgroundImage from \"./../../assets/background_3.jpg\";\nimport Form_BackgroundImage from \"./../../assets/background_2.jpg\";\nimport ClockContainer from \"./../../components/clock/ClockContainer\";\nimport \"./../style.css\";\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n/* Validation starts here */\nconst schema = yup.object().shape({\n  password: yup.string(\"Password must be string \").required(function (value) {\n    toast.warning(\"Password is required\");\n  }),\n\n  username: yup\n    .string(\"Username must be string \")\n    .required(function (value) {\n      toast.warning(\"Username is required \");\n    })\n    .test(\"Unique username\", \"Username already in taken\", function (value) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post(\"http://localhost:3001/api/users/verify/username\", {\n            username: value,\n          })\n          .then((res) => {\n            if (res.data.msg === \"Username already been taken\") {\n              //  toast.error(res.data.msg);\n              resolve(true);\n            }\n            toast.error(\"Username does not exist\");\n            resolve(false);\n          });\n      });\n    }),\n});\n/* Validation ends here */\n/* Functional componennet starts here */\n\nexport default function LoginForm(props) {\n  const { register, handleSubmit, errors } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const routeChange = () => {\n    let path = `/login`;\n    this.props.history.push(path);\n  };\n\n  const submit = (data, e) => {\n    console.log(data);\n    const { username, password } = this.data;\n\n    axios\n      .post(`http://localhost:3001/api/users/login`, { username, password })\n      .then((res) => {\n        console.log(res);\n        console.log(res.data);\n        if (res.status === 200) {\n          //save user to localstorage\n          localStorage.setItem(\"logged_user\", JSON.stringify(res.data));\n          toast.success(\"Login Successfull\");\n          // let path = `/`;\n          // this.props.history.push(path);\n        } else {\n          console.log(\"request error\");\n        }\n      })\n      .catch(function (err) {\n        toast.error(err.response.data.message);\n        console.log(err.response.data);\n      });\n  };\n\n  return (\n    <React.Fragment>\n      <ToastContainer />\n\n      <div\n        className=\"row align-items-center login-component-wrapper\"\n        style={{\n          backgroundImage: \"url(\" + Login_Compoenent_BackgroundImage + \")\",\n          backgroundPosition: \"center\",\n          backgroundSize: \"cover\",\n          backgroundRepeat: \"no-repeat\",\n        }}\n      >\n        <div className=\"col-md-2\"></div>\n        <div className=\"col-md-8 \">\n          <div className=\"row \">\n            <div\n              className=\"col-md-4 sidebar-wrapper \"\n              style={{\n                backgroundImage: \"url(\" + Form_Sidebar_BackgroundImage + \")\",\n                backgroundPosition: \"center\",\n                backgroundSize: \"cover\",\n                backgroundRepeat: \"no-repeat\",\n              }}\n            >\n              {/* start side bar content  */}\n              <small className=\"font-weight-bold text-white\">\n                Not already Registered\n              </small>\n              <small className=\"font-weight-bold text-white\">\n                Create a free account now{\" \"}\n              </small>\n              {/* <div className=\"text-white\">\n                <ClockContainer />\n              </div> */}\n              <button\n                type=\"button\"\n                id=\"signupBtn\"\n                className=\"btn btn-warning btn-block \"\n                onClick={routeChange}\n              >\n                <i\n                  className=\"fa fa-user-plus fa-2x text-white\"\n                  aria-hidden=\"true\"\n                ></i>\n              </button>\n            </div>\n            {/* end side bar content  */}\n\n            <div\n              className=\"col-md-8 bg-dark form-wrapper\"\n              style={{\n                backgroundImage: \"url(\" + Form_BackgroundImage + \")\",\n                backgroundPosition: \"center\",\n                backgroundSize: \"cover\",\n                backgroundRepeat: \"no-repeat\",\n              }}\n            >\n              {/* start card form  */}\n              <div className=\"row bg-dark\">\n                <div className=\"col-md-12 \">\n                  <ClockContainer />\n                </div>\n              </div>\n              <h2 className=\"font-weight-bold text-success\">Login Now </h2>\n              <div className=\"d-flex flex-row justify-content-center align-items-center mt-3 mb-3\">\n                <span className=\"ml-2 mr-2 \">\n                  <i\n                    className=\" fa-2x text-primary fa fa-facebook-official\"\n                    aria-hidden=\"true\"\n                  ></i>\n                </span>\n                <span className=\"ml-2 mr-2 \">\n                  <i\n                    className=\" fa-2x text-success fa fa-google-plus-official\"\n                    aria-hidden=\"true\"\n                  ></i>\n                </span>\n                <span className=\"ml-2 mr-2 \">\n                  <i\n                    className=\" fa-2x text-info fa fa-twitter-square\"\n                    aria-hidden=\"true\"\n                  ></i>\n                </span>\n              </div>\n              <form onSubmit={handleSubmit(submit)}>\n                <div className=\"form-row form-inline\">\n                  <input\n                    type=\"text\"\n                    name=\"username\"\n                    id=\"username\"\n                    placeholder=\"user name\"\n                    className=\"form-control custom-login-input\"\n                    ref={register}\n                  />\n                </div>\n                <div className=\"form-row form-inline\">\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    id=\"password\"\n                    placeholder=\"password\"\n                    ref={register}\n                    className=\"form-control custom-login-input\"\n                  />\n                </div>\n                <div className=\"d-flex justify-content-center align-items-center\">\n                  <small className=\"text-white font-weight-bold\">\n                    Click here to login{\" \"}\n                  </small>\n                </div>\n                <div className=\"text-center\">\n                  <button\n                    type=\"submit\"\n                    name=\"submit\"\n                    className=\"btn btn-success\"\n                    id=\"submit\"\n                  >\n                    <i className=\"fa fa-sign-in fa-2x\" aria-hidden=\"true\"></i>\n                  </button>\n                </div>\n              </form>\n\n              {/* end card form  */}\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-2\"></div>\n      </div>\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}